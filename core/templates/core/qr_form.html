{% extends 'base.html' %}
{% block title %}Generate QR Code{% endblock %}

{% block content %}
    <div class="row justify-content-center">
        <div class="col-md-7">
            <h1 class="mb-3">Generate Attendance QR Code</h1>

            <p class="text-muted">This generates a time and location-specific QR code for students to scan.</p>
            
            <form method="post" action="{% url 'core:generate_qr_code' %}" class="card p-4">
                {% csrf_token %}
                
                <div class="mb-3">
                    <label for="course" class="form-label">Select Course:</label>
                    <select name="course_id" id="course" class="form-select" required>
                        {% for course in courses %}
                            <option value="{{ course.pk }}">{{ course.course_code }} - {{ course.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="mb-3">
                    <label for="duration" class="form-label">Duration (Minutes):</label>
                    <input type="number" name="duration" id="duration" class="form-control" value="10" min="5" required>
                    <div class="form-text">How long the QR code will be active before expiring.</div>
                </div>

                <button type="submit" class="btn btn-success mt-3">Generate QR & Start Session</button>
            </form>
            
            <p class="mt-3"><a href="{% url 'core:index' %}">‚Üê Back to Dashboard</a></p>
        </div>
    </div>
{% endblock content %}